<!DOCTYPE HTML>
<html>
	<head>
		<title>Test</title>
		<script src="ob/prototype.js" type="text/javascript" charset="utf-8"></script>
		<script src="ob/ob.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" charset="utf-8">
			window.WeirdView=Class.create(OBView,{
				redraw:function(){
					this.ctx.fillStyle="black";
					this.ctx.fillRect(0,0,this.attr('width'),this.attr('height'));
					this.ctx.strokeStyle="blue";
					this.ctx.lineWidth=50;
					this.ctx.strokeRect(0,0,this.attr('width'),this.attr('height'));
				}//,
				//mouseover:function(){console.info("mouseover");},
				//mouseout:function(){console.info("mouseout");}
			});
			window.Clicker=Class.create(OBView,{
				setup:function(){
					this.points=[];
				},
				redraw:function(){
					this.ctx.strokeStyle=OBColor.Yellow.toString();
					this.ctx.strokeRect(0,0,this.attr('width'),this.attr('height'));
					this.ctx.fillStyle=OBColor.Green.toString();
					this.points.each(function(point){
						this.ctx.fillRect(point.attr('x'),point.attr("y"),5,5);
					},this);
				},
				mousedown:function(evt){
					this.points.push(evt.point);
					this.update();
				},
				mousedrag:function(evt){
					this.mousedown(evt);
				}//,
				//mouseover:function(){console.info("mouseover");},
				//mouseout:function(){console.info("mouseout");}
			});
			document.observe("dom:loaded",function(){
				window.z=new WeirdView(null,new OBRect(10,10,300,300));
				window.click=new Clicker(window.z,new OBRect(10,10,200,200));
			});
		</script>
	</head>
	<body>
		<div style="text-align:center">
			LOADING...
		</div>
	</body>
</html>